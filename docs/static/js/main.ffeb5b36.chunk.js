(this["webpackJsonpport-tides-app"]=this["webpackJsonpport-tides-app"]||[]).push([[7],{53:function(e,t,n){e.exports=n(83)},59:function(e,t,n){var a={"./ion-action-sheet-ios.entry.js":[87,31],"./ion-action-sheet-md.entry.js":[88,32],"./ion-alert-ios.entry.js":[89,33],"./ion-alert-md.entry.js":[90,34],"./ion-app_8-ios.entry.js":[91,13],"./ion-app_8-md.entry.js":[92,14],"./ion-avatar_3-ios.entry.js":[93,35],"./ion-avatar_3-md.entry.js":[94,36],"./ion-back-button-ios.entry.js":[95,37],"./ion-back-button-md.entry.js":[96,38],"./ion-backdrop-ios.entry.js":[97,79],"./ion-backdrop-md.entry.js":[98,80],"./ion-button_2-ios.entry.js":[99,39],"./ion-button_2-md.entry.js":[100,40],"./ion-card_5-ios.entry.js":[101,41],"./ion-card_5-md.entry.js":[102,42],"./ion-checkbox-ios.entry.js":[103,43],"./ion-checkbox-md.entry.js":[104,44],"./ion-chip-ios.entry.js":[105,45],"./ion-chip-md.entry.js":[106,46],"./ion-col_3.entry.js":[107,81],"./ion-datetime_3-ios.entry.js":[108,19],"./ion-datetime_3-md.entry.js":[109,20],"./ion-fab_3-ios.entry.js":[110,47],"./ion-fab_3-md.entry.js":[111,48],"./ion-img.entry.js":[112,82],"./ion-infinite-scroll_2-ios.entry.js":[113,83],"./ion-infinite-scroll_2-md.entry.js":[114,84],"./ion-input-ios.entry.js":[115,49],"./ion-input-md.entry.js":[116,50],"./ion-item-option_3-ios.entry.js":[117,51],"./ion-item-option_3-md.entry.js":[118,52],"./ion-item_8-ios.entry.js":[119,53],"./ion-item_8-md.entry.js":[120,54],"./ion-loading-ios.entry.js":[121,55],"./ion-loading-md.entry.js":[122,56],"./ion-menu_3-ios.entry.js":[123,57],"./ion-menu_3-md.entry.js":[124,58],"./ion-modal-ios.entry.js":[125,15],"./ion-modal-md.entry.js":[126,16],"./ion-nav_2.entry.js":[127,27],"./ion-popover-ios.entry.js":[128,17],"./ion-popover-md.entry.js":[129,18],"./ion-progress-bar-ios.entry.js":[130,59],"./ion-progress-bar-md.entry.js":[131,60],"./ion-radio_2-ios.entry.js":[132,61],"./ion-radio_2-md.entry.js":[133,62],"./ion-range-ios.entry.js":[134,63],"./ion-range-md.entry.js":[135,64],"./ion-refresher_2-ios.entry.js":[136,21],"./ion-refresher_2-md.entry.js":[137,22],"./ion-reorder_2-ios.entry.js":[138,29],"./ion-reorder_2-md.entry.js":[139,30],"./ion-ripple-effect.entry.js":[140,85],"./ion-route_4.entry.js":[141,65],"./ion-searchbar-ios.entry.js":[142,66],"./ion-searchbar-md.entry.js":[143,67],"./ion-segment_2-ios.entry.js":[144,68],"./ion-segment_2-md.entry.js":[145,69],"./ion-select_3-ios.entry.js":[146,70],"./ion-select_3-md.entry.js":[147,71],"./ion-slide_2-ios.entry.js":[148,86],"./ion-slide_2-md.entry.js":[149,87],"./ion-spinner.entry.js":[150,25],"./ion-split-pane-ios.entry.js":[151,88],"./ion-split-pane-md.entry.js":[152,89],"./ion-tab-bar_2-ios.entry.js":[153,72],"./ion-tab-bar_2-md.entry.js":[154,73],"./ion-tab_2.entry.js":[155,28],"./ion-text.entry.js":[156,74],"./ion-textarea-ios.entry.js":[157,75],"./ion-textarea-md.entry.js":[158,76],"./ion-toast-ios.entry.js":[159,77],"./ion-toast-md.entry.js":[160,78],"./ion-toggle-ios.entry.js":[161,23],"./ion-toggle-md.entry.js":[162,24],"./ion-virtual-scroll.entry.js":[163,90]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=59,e.exports=r},61:function(e,t,n){var a={"./ion-icon.entry.js":[167,93]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=61,e.exports=r},66:function(e,t,n){},77:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(29),s=n.n(o),i=n(4),c=n(2),l=n(47),u=n(7),d=n(18);var m=n(17);var p={data:{schedule:[],tide:[],pdfs:[],loading:!1},user:{hasSeenTutorial:!1,darkMode:!1,loading:!1}},f=function(e){return function(t,n){var a={};return Object.keys(e).forEach((function(r){var o=e[r](t[r],n);a[r]=o||t[r]})),a}}({data:function(e,t){switch(t.type){case"set-conf-loading":return Object(m.a)(Object(m.a)({},e),{},{loading:t.isLoading});case"set-conf-data":return Object(m.a)(Object(m.a)({},e),t.data)}},user:function(e,t){switch(t.type){case"set-user-loading":return Object(m.a)(Object(m.a)({},e),{},{loading:t.isLoading});case"set-user-data":return Object(m.a)(Object(m.a)({},e),t.data);case"set-has-seen-tutorial":return Object(m.a)(Object(m.a)({},e),{},{hasSeenTutorial:t.hasSeenTutorial});case"set-dark-mode":return Object(m.a)(Object(m.a)({},e),{},{darkMode:t.darkMode})}}}),h=Object(a.createContext)({state:p,dispatch:function(){}}),E=function(e){var t=Object(a.useReducer)(f,p),n=Object(d.a)(t,2),o=n[0],s=n[1];return r.a.createElement(h.Provider,{value:{state:o,dispatch:s}},e.children)};function b(e){var t=e.mapStateToProps,n=void 0===t?function(){return{}}:t,o=e.mapDispatchToProps,s=void 0===o?{}:o,i=e.component;return r.a.memo((function(e){var t=Object(a.useContext)(h),o=Object(a.useMemo)((function(){var e={};return Object.keys(s).forEach((function(n){var a=s[n];e[n]=function(){var e=a.apply(void 0,arguments);if("object"===typeof e)t.dispatch(e);else{var n=e(t.dispatch);"object"===typeof n&&n.then&&n.then((function(e){e&&e.type&&t.dispatch(e)}))}}})),e}),[s]),c=Object(a.useMemo)((function(){return Object.assign({},e,n(t.state,e),o)}),[e,t.state]);return r.a.createElement(i,c)}))}var y=n(5),j=n.n(y),g=n(11),v=n(50).a.Storage,O=function(){var e=Object(g.a)(j.a.mark((function e(){var t,n,a,r,o,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([fetch("https://cdn.port-tides.com/tides.json",{method:"GET",headers:{"Content-Type":"text/json"}})]);case 3:return t=e.sent,e.next=6,t[0].json();case 6:return n=e.sent,a=n.schedule,r=a,o=n.pdfs,s={schedule:a,tides:r,pdfs:o},e.abrupt("return",s);case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),alert("Cannot connect to Network"),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(g.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([v.get({key:"hasSeenTutorial"})]);case 2:return t=e.sent,e.next=5,t[0].value;case 5:return e.t0=e.sent,n="true"===e.t0,a={hasSeenTutorial:n},e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(g.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.set({key:"hasSeenTutorial",value:JSON.stringify(t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var w=function(e){return{type:"set-user-loading",isLoading:e}},_=function(e){return{type:"set-user-data",data:e}},D=(n(66),{appPages:[{title:"Upcoming",path:"/tabs/schedule",icon:u.d},{title:"PDF Tables",path:"/tabs/pdfs",icon:u.k},{title:"About",path:"/tabs/about",icon:u.m}]}),S=b({mapStateToProps:function(e){return{darkMode:e.user.darkMode}},mapDispatchToProps:{setDarkMode:function(e){return{type:"set-dark-mode",darkMode:e}}},component:Object(i.h)((function(e){e.darkMode,e.history,e.setDarkMode;var t=Object(i.g)();return r.a.createElement(c.u,{type:"overlay",contentId:"main"},r.a.createElement(c.i,{forceOverscroll:!1},r.a.createElement(c.s,{lines:"none"},r.a.createElement(c.t,null,"Port Tides"),D.appPages.filter((function(e){return!!e.path})).map((function(e){return r.a.createElement(c.w,{key:e.title,"auto-hide":"false"},r.a.createElement(c.m,{detail:!1,routerLink:e.path,routerDirection:"none",className:t.pathname.startsWith(e.path)?"selected":void 0},r.a.createElement(c.l,{slot:"start",icon:e.icon}),r.a.createElement(c.q,null,e.title)))})))))}))}),x=(n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(31)),P=n.n(x),M=r.a.memo((function(e){var t=e.session;Object(a.useRef)(null);return r.a.createElement(c.p,null,r.a.createElement(c.m,null,r.a.createElement(c.q,null,r.a.createElement("h3",null,P()("01 January 1970 "+t.time).format("h:mma"))),r.a.createElement(c.y,{slot:"end",color:"primary"},t.height,"m")))})),N=b({mapStateToProps:function(e){return{}},mapDispatchToProps:{},component:function(e){var t=e.schedule,n=Object(a.useState)(!1),o=Object(d.a)(n,2),s=o[0],i=o[1],l=Object(a.useState)(""),u=Object(d.a)(l,2),m=u[0],p=u[1],f=Object(a.useState)([]),h=Object(d.a)(f,2),E=h[0],b=h[1];Object(a.useCallback)((function(e,t){p(e),b(t),i(!0)}),[]);return 0===t.length?r.a.createElement(c.s,null,r.a.createElement(c.t,null,"No Tides Found")):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.s,null,t.map((function(e,n){return Date.parse(t[n].date+" 00:00:00")>=Date.parse(function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+"/"+n+"/"+t}()+" 00:00:00")&&Date.parse(t[n].date)<Date.now()+31536e6?r.a.createElement(c.o,{key:"group-".concat(n)},r.a.createElement(c.n,{sticky:!0},r.a.createElement(c.q,null,P()(t[n].date).format("dddd Do MMMM YYYY"))),t[n].groups.map((function(e,t){return r.a.createElement(M,{session:e})}))):""}))),r.a.createElement(c.b,{isOpen:s,header:m,buttons:E,onDidDismiss:function(){return i(!1)}}))}}),C=(n(79),function(e){return e.data.schedule}),F=function(e){return e.data.pdfs},R=b({mapStateToProps:function(e){return{schedule:C(e)}},mapDispatchToProps:{},component:r.a.memo((function(e){var t=e.schedule,n=Object(a.useState)("all"),o=Object(d.a)(n,2),s=(o[0],o[1],Object(a.useState)(!1)),i=Object(d.a)(s,2),l=(i[0],i[1],Object(a.useState)(!1)),u=Object(d.a)(l,2),m=u[0],p=u[1],f=Object(a.useRef)(null),h=Object(a.useState)(!1),E=Object(d.a)(h,2),b=E[0],y=E[1],j=Object(a.useRef)(null);return r.a.createElement(c.z,{ref:j,id:"schedule-page"},r.a.createElement(c.i,{fullscreen:!0},r.a.createElement(c.A,{slot:"fixed",ref:f,onIonRefresh:function(){setTimeout((function(){f.current.complete(),y(!0)}),2500)}},r.a.createElement(c.B,null)),r.a.createElement(c.L,{isOpen:b,message:"Refresh complete",duration:2e3,onDidDismiss:function(){return y(!1)}}),r.a.createElement(N,{schedule:t})),r.a.createElement(c.x,{isOpen:m,onDidDismiss:function(){return p(!1)},swipeToClose:!0,presentingElement:j.current,cssClass:"session-list-filter"}))}))}),q=function(e){var t=e.pdf;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.f,{className:"speaker-card"},r.a.createElement(c.g,null,r.a.createElement(c.m,{button:!0,detail:!1,lines:"none",className:"speaker-item",onClick:function(){return e="".concat(t.url),void window.open(e,"_blank");var e}},r.a.createElement(c.q,null,r.a.createElement("h2",null,t.name))))))},I=(n(80),b({mapStateToProps:function(e){return{pdfs:F(e)}},component:r.a.memo((function(e){var t=e.pdfs;return r.a.createElement(c.z,{id:"speaker-list"},r.a.createElement(c.k,{translucent:!0},r.a.createElement(c.M,null,r.a.createElement(c.e,{slot:"start"},r.a.createElement(c.v,null)),r.a.createElement(c.K,null,"PDFs"))),r.a.createElement(c.i,{fullscreen:!0},r.a.createElement(c.k,{collapse:"condense"},r.a.createElement(c.M,null,r.a.createElement(c.K,{size:"large"},"PDFs"))),r.a.createElement(c.j,{fixed:!0},r.a.createElement(c.D,null,t.map((function(e){return Date.parse(e.date)<Date.now()+31536e6?r.a.createElement(c.h,{size:"12","size-md":"6"},r.a.createElement(q,{pdf:e})):""}))))))}))})),U=(n(81),r.a.memo((function(){return r.a.createElement(c.z,{id:"about-page"},r.a.createElement(c.i,null,r.a.createElement(c.k,{className:"ion-no-border"},r.a.createElement(c.M,null,r.a.createElement(c.e,{slot:"start"},r.a.createElement(c.v,null)),r.a.createElement(c.K,null))),r.a.createElement("div",{className:"about-header"},r.a.createElement("div",{className:"about-image"})),r.a.createElement("div",{className:"about-info"},r.a.createElement("h3",{className:"ion-padding-top ion-padding-start"},"About"),r.a.createElement("p",{className:"ion-padding-start ion-padding-end"},"This site & app displays free tidal predictions for the seaside town of Porthmadog and its beautiful estuary"),r.a.createElement("h3",{className:"ion-padding-top ion-padding-start"},"Timezone"),r.a.createElement(c.s,{lines:"none"},r.a.createElement(c.m,null,r.a.createElement(c.q,null,"Tidal Predictions"),"Displayed in GMT/BST")),r.a.createElement("h3",{className:"ion-padding-top ion-padding-start"},"Copyright Information"),r.a.createElement(c.s,{lines:"none"},r.a.createElement(c.m,null,"All Tidal Data is \xa9Crown Copyright. Reproduced by permission of the Controller of Her Majesty's Stationery Office and the UK Hydrographic Office (www.ukho.gov.uk). No tidal data may be reproduced without the expressed permission of the ukho licencing department."),r.a.createElement(c.m,null,r.a.createElement(c.q,null,"PDFs, Website & App"),"\xa92014-2020 James Bithell")),r.a.createElement("h3",{className:"ion-padding-top ion-padding-start"},"Disclaimer"),r.a.createElement("p",{className:"ion-padding-start ion-padding-end"},"Tidal Predictions are provided for use by all water users though the developers of this site can not be held accountable for the accuracy of this data or any accidents that result from the use of this data."))))}))),L=function(){return r.a.createElement(c.J,null,r.a.createElement(c.C,null,r.a.createElement(i.b,{exact:!0,path:"/tabs",to:"/tabs/schedule"}),r.a.createElement(i.c,{path:"/tabs/schedule",render:function(){return r.a.createElement(R,null)},exact:!0}),r.a.createElement(i.c,{path:"/tabs/pdfs",render:function(){return r.a.createElement(I,null)},exact:!0}),r.a.createElement(i.c,{path:"/tabs/about",render:function(){return r.a.createElement(U,null)},exact:!0})),r.a.createElement(c.H,{slot:"bottom"},r.a.createElement(c.I,{tab:"schedule",href:"/tabs/schedule"},r.a.createElement(c.l,{icon:u.c}),r.a.createElement(c.q,null,"Upcoming")),r.a.createElement(c.I,{tab:"speakers",href:"/tabs/pdfs"},r.a.createElement(c.l,{icon:u.k}),r.a.createElement(c.q,null,"PDFs")),r.a.createElement(c.I,{tab:"about",href:"/tabs/about"},r.a.createElement(c.l,{icon:u.l}),r.a.createElement(c.q,null,"About"))))},z=function(e){return{type:"set-conf-loading",isLoading:e}},A=function(e){return{type:"set-conf-data",data:e}},H=(n(82),b({mapDispatchToProps:{setHasSeenTutorial:function(e){return function(){var t=Object(g.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:return t.abrupt("return",{type:"set-has-seen-tutorial",hasSeenTutorial:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},component:function(e){var t=e.history,n=e.setHasSeenTutorial,o=Object(a.useState)(!0),s=Object(d.a)(o,2),i=s[0],l=s[1],m=Object(a.useRef)(null);Object(c.P)((function(){}));var p=function(){var e=Object(g.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(!0);case 2:t.push("/tabs/schedule",{direction:"none"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(c.z,{id:"tutorial-page"},r.a.createElement(c.k,{"no-border":!0},r.a.createElement(c.M,null,r.a.createElement(c.e,{slot:"end"},i&&r.a.createElement(c.d,{color:"primary",onClick:p},"Skip")))),r.a.createElement(c.i,{fullscreen:!0},r.a.createElement(c.F,{ref:m,onIonSlideWillChange:function(){m.current.isEnd().then((function(e){return l(!e)}))},pager:!1},r.a.createElement(c.E,null,r.a.createElement("h2",{className:"slide-title"},"Welcome to ",r.a.createElement("b",null,"Porthmadog Tide Times")),r.a.createElement("p",null,"This app and website provides free tidal predictions for the next 12 months, with data provided by the United Kingdom Hydrographic Office")),r.a.createElement(c.E,null,r.a.createElement("h2",{className:"slide-title"},"Safety at Sea"),r.a.createElement("p",null,r.a.createElement("b",null,"Follow advice")," from Gwynedd Council, the RNLI & the RYA before taking to the water")),r.a.createElement(c.E,null,r.a.createElement("h2",{className:"slide-title"},"Safety on the Sands"),r.a.createElement("p",null,r.a.createElement("b",null,"The currents around Portmadog can be dangerous"),". Conditions can change quickly, and shifting sandbanks can leave you cut off by the sea - consult tide times before setting out, and be careful on an incoming tide")),r.a.createElement(c.E,null,r.a.createElement("h2",{className:"slide-title"},"Ready to View predictions?"),r.a.createElement(c.d,{fill:"clear",onClick:p},"Continue",r.a.createElement(c.l,{slot:"end",icon:u.b}))))))}})),J=b({mapStateToProps:function(e){return{hasSeenTutorial:e.user.hasSeenTutorial}},component:function(e){return e.hasSeenTutorial?r.a.createElement(i.b,{to:"/tabs/schedule"}):r.a.createElement(i.b,{to:"/tutorial"})}}),Y=function(){return r.a.createElement(E,null,r.a.createElement(K,null))},K=b({mapStateToProps:function(e){return{darkMode:e.user.darkMode,schedule:e.data.schedule}},mapDispatchToProps:{loadConfData:function(){return function(){var e=Object(g.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(z(!0)),e.next=3,O();case 3:(n=e.sent)&&t(A(n)),t(z(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},loadUserData:function(){return function(){var e=Object(g.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w(!0)),e.next=3,k();case 3:n=e.sent,t(_(n)),t(w(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},component:function(e){var t=e.darkMode,n=e.schedule,o=e.loadConfData,s=e.loadUserData;return Object(a.useEffect)((function(){s(),o()}),[]),0===n.length?r.a.createElement("div",null):r.a.createElement(c.c,{className:"".concat(t?"dark-theme":"")},r.a.createElement(l.a,null,r.a.createElement(c.G,{contentId:"main"},r.a.createElement(S,null),r.a.createElement(c.C,{id:"main"},r.a.createElement(i.c,{path:"/tabs",component:L}),r.a.createElement(i.c,{path:"/tutorial",component:H}),r.a.createElement(i.c,{path:"/",component:J,exact:!0})))))}});s.a.render(r.a.createElement(Y,null),document.getElementById("root"))}},[[53,9,12]]]);
//# sourceMappingURL=main.ffeb5b36.chunk.js.map